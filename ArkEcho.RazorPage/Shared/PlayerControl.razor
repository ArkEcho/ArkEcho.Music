@inject IAppModel Model

@inherits PlayerControlBase

<MudStack>

    <MudPaper Class="mx-6 d-none d-md-flex" Height="10px" Elevation="0">
        <MudSlider Size="Size.Small" Min="0" Max="@DurationSeconds" 
        T="int" Immediate="true" @onmousedown="sliderMouseDown" @onmouseup="sliderMouseUp" ValueChanged="sliderVolumeChanged" Value="@Model.Player.Position" />
    </MudPaper>

    <MudPaper Class="d-flex" Style="bottom: 0; width: 100%; height: 50px" Elevation="0">

        <MudPaper Class="d-flex flex-none justify-start" Elevation="0" Width="220px">

            <MudPaper Class="pa-1 d-flex" MaxHeight="100%" MaxWidth="50px" Elevation="0">
                <MudImage Fluid="true" ObjectFit="ObjectFit.ScaleDown" Src="@Image64" />
            </MudPaper>

            <MudText Class="ml-2" Inline="true" Typo="Typo.body2">@SongTitle<br />@SongPerformer</MudText>
        </MudPaper>

        <MudPaper Class="pa-2 d-flex flex-grow-1 justify-center" Elevation="0">
        
            <MudPaper Class="pt-2 mr-4 d-none d-sm-flex" Elevation="0">
                <MudText Typo="Typo.body2">@PositionTime / @DurationTime</MudText>
            </MudPaper>

            <MudIconButton Class="mx-1 d-none d-sm-flex" OnClick="stop" Icon="@Icons.Material.Rounded.Stop" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
            <MudIconButton Class="mx-1 d-none d-md-flex" OnClick="shuffle" Icon="@ShuffleIcon" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />

            <MudIconButton Class="mx-1" OnClick="backward" Icon="@Icons.Material.Rounded.FastRewind" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />

            <MudFab Class="mx-1 mt-n1" OnClick="playPause" Icon="@PlayPauseIcon" Color="Color.Primary" Size="Size.Small" />

            <MudIconButton Class="mx-1" OnClick="forward" Icon="@Icons.Material.Rounded.FastForward" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />

            <MudIconButton Class="mx-1 d-none d-md-flex" OnClick="mute" Icon="@MuteIcon" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
            <MudPaper Class="mx-1 pt-2 d-none d-sm-flex" Width="100px" Elevation="0">
                <MudSlider Size="Size.Medium" Min="0" Max="100" Step="5" @bind-Value="Model.Player.Volume" ValueLabel="true" />
            </MudPaper>

        </MudPaper>

        <MudPaper Class="d-none d-md-flex flex-grow-1" MaxWidth="200px" Elevation="0"/>
    
    </MudPaper>
</MudStack>

@code
{
}
