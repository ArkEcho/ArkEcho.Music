@page "/Sync"

@layout CenteredLayout

@inject Authentication authentication
@inject NavigationManager navigationManager
@inject AppEnvironment environment

@if (environment.Platform == Resources.Platform.Windows || environment.Platform == Resources.Platform.Android)
{
    <SyncComponent />
}
else
{
    <MudText Typo="Typo.h5">Use this page on Android or Windows to Sync your Music locally.</MudText>
}

@code {
    protected override void OnAfterRender(bool firstRender)
    {
        if (authentication.AuthenticatedUser == null)
        {
            navigationManager.NavigateTo("/");
            return;
        }
        base.OnAfterRender(firstRender);
    }

}
